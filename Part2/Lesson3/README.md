Переходим в C++
===============

    %parse-param  %lex-param - дополнительные параметры, которые будут вставляться в parser и lexer
    %start unit   - unit будет стартовой аксиомой.

Код будет приложен.

AST
===

В дереве вывода обычно слишком много лишней информации связанной именно с грамматикой, а не подсчётами.

Абстрактное синтаксическое дерево состоит только из терминалов.

Создать дерево можно Node::VarNode,NumNode,BinOpNode. У каждого определить метод to_string. Потом просто принт корня.
